(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e99c3f9"],{"159b":function(t,e,i){var s=i("da84"),n=i("fdbc"),r=i("17c2"),a=i("9112");for(var o in n){var l=s[o],c=l&&l.prototype;if(c&&c.forEach!==r)try{a(c,"forEach",r)}catch(u){c.forEach=r}}},"17c2":function(t,e,i){"use strict";var s=i("b727").forEach,n=i("b301");t.exports=n("forEach")?function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"47ac":function(t,e,i){},"552a":function(t,e,i){"use strict";var s=i("e61d"),n=i.n(s);n.a},"5d97":function(t,e,i){},"65f0":function(t,e,i){var s=i("861d"),n=i("e8b5"),r=i("b622"),a=r("species");t.exports=function(t,e){var i;return n(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?s(i)&&(i=i[a],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},6887:function(t,e,i){"use strict";var s=i("5d97"),n=i.n(s);n.a},"7b74":function(t,e,i){},"7d36":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden","z-index":"500"}},[i("div",{staticClass:"background",style:t.mapStyle}),i("div",{staticClass:"water",style:t.waterStyle}),i("button",{on:{click:function(e){return t.$router.push("/")}}},[t._v("EXIT")]),i("player",{staticClass:"player",staticStyle:{position:"absolute"},style:{left:"calc(50% - 45px)",top:"calc(50% - 45px)"},attrs:{id:"player",player:t.$store.state}}),t._l(t.filter(t.$store.state.server.players),(function(e){return i("player",{key:e.username,staticClass:"player",staticStyle:{position:"absolute"},style:{left:e.x+t.px-t.$store.state.x+"px",top:e.y+t.py-t.$store.state.y+"px"},attrs:{player:e}})})),t._l(t.$store.state.bullets,(function(e,s){return i("bullet",{key:"bullet-"+e.uniq,staticStyle:{position:"absolute"},style:{left:e.x+t.px-t.$store.state.x+"px",top:e.y+t.py-t.$store.state.y+"px"},attrs:{index:s,parent:t.$store.state.bullets,bullet:e}})})),t._l(t.$store.state.eliminations,(function(e,s){return i("elimination",{key:"elemination-"+e.uniq,staticStyle:{position:"absolute"},style:{left:e.x+t.px-t.$store.state.x+"px",top:e.y+t.py-t.$store.state.y+"px"},attrs:{index:s,parent:t.$store.state.eliminations,elimination:e}})})),t._l(t.$store.state.items,(function(e,s){return i("item",{key:"item-"+e.uniq,staticStyle:{position:"absolute"},style:{left:e.x+t.px-t.$store.state.x+"px",top:e.y+t.py-t.$store.state.y+"px"},attrs:{index:s,parent:t.$store.state.items,item:e}})})),t._l(t.$store.state.walls,(function(e,s){return i("wall",{key:"wall-"+s,staticStyle:{position:"absolute"},style:{left:e.x+t.px-t.$store.state.x+"px",top:e.y+t.py-t.$store.state.y+"px"},attrs:{index:s,parent:t.$store.state.walls,wall:e}})})),i("div",{staticStyle:{position:"fixed",bottom:"50px",left:"50px"}},[t._v(" x: "+t._s(t.$store.state.x)+", y: "+t._s(t.$store.state.y)+" - "+t._s(t.$store.state.server.users)+" players online ")]),i("div",{staticStyle:{position:"relative",display:"inline-block",color:"red",background:"white",padding:"5px","margin-left":"20px"}},[t._v(" HP: "+t._s(t.$store.state.hp)+" ")]),i("div",{staticStyle:{position:"relative",display:"inline-block",color:"orange",background:"white",padding:"5px","margin-left":"20px"}},[t._v(" GOLD: "+t._s(t.$store.state.gold)+" ")])],2)},n=[],r=(i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"player",style:t.playerStyle},[i("span",{staticStyle:{"margin-left":"-4px","margin-top":"-25px",width:"100%","text-align":"center",display:"block"}},[t._v(" "+t._s(t.player.username||"Guest")),i("br"),t._v(" "+t._s(t.player.hp)+" | "+t._s(t.player.deaths)+" ")])])}),a=[],o={props:["player","x","y"],data:function(){return{hit:!1}},watch:{"player.hp":function(){var t=this;this.hit=!0,setTimeout((function(){t.hit=!1}),100)}},computed:{playerStyle:function(){var t=0;"right"===this.player.direction?t=90:"down"===this.player.direction?t=180:"left"===this.player.direction&&(t=270);var e=this.player.jumping?1.5:1;return this.hit&&(e=.7),{transform:"rotate("+t+"deg) scale("+e+")"}}}},l=o,c=(i("f54b"),i("2877")),u=Object(c["a"])(l,r,a,!1,null,"376554bd",null),p=u.exports,d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bullet"})},f=[],y={props:["bullet","parent","index"],data:function(){return{dead:!1}},created:function(){var t=this,e=20;setInterval((function(){var i=45;"up"===t.bullet.direction?t.bullet.y-=i:"down"===t.bullet.direction?t.bullet.y+=i:"left"===t.bullet.direction?t.bullet.x-=i:"right"===t.bullet.direction&&(t.bullet.x+=i),t.bullet.id!==t.$store.state.username&&t.isCollide(t.bullet,t.$store.state)?(t.$store.state.hp-=10,t.$store.state.hp<=0&&(t.$store.state.io.emit("elimination",{id:t.$store.state.username,uniq:t.bullet.uniq,killer:t.bullet.id,x:t.$store.state.x,y:t.$store.state.y,width:100,height:100,hp:t.$store.state.hp,direction:t.$store.state.direction}),t.$store.state.io.emit("item",{type:"gold",value:Math.floor(401*Math.random())+125,uniq:t.bullet.uniq,x:t.$store.state.x+30,y:t.$store.state.y+30,width:25,height:25}),t.$store.state.x=0,t.$store.state.y=0,t.$store.state.hp=100,t.$store.state.deaths++),delete t.$store.state.bullets[t.bullet.uniq]):e<=0&&delete t.$store.state.bullets[t.bullet.uniq],e--}),15)},methods:{isCollide:function(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}}},h=y,x=(i("6887"),Object(c["a"])(h,d,f,!1,null,"863ca3e2",null)),m=x.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"elimination"})},v=[],b={props:["elimination","parent","index"],created:function(){var t=this;setTimeout((function(){delete t.$store.state.eliminations[t.elimination.uniq]}),1500)}},g=b,w=(i("552a"),Object(c["a"])(g,$,v,!1,null,"50d43579",null)),S=w.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"gold"===t.item.type?i("div",{staticClass:"gold"},[t._v(" "+t._s(t.coins)+" ")]):t._e()},L=[],C={props:["item","parent","index"],data:function(){return{coins:0,interval:null}},created:function(){var t=this;"gold"===this.item.type&&(this.coins=this.item.value,this.interval=setInterval((function(){t.isCollide(t.item,t.$store.state)?(t.$store.state.gold+=t.coins,t.coins=0,delete t.$store.state.items[t.item.uniq],clearInterval(t.interval)):t.coins<=10&&(delete t.$store.state.items[t.item.uniq],clearInterval(t.interval)),t.coins-=10}),100))},methods:{isCollide:function(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}}},E=C,k=(i("8fe3"),Object(c["a"])(E,_,L,!1,null,"1a9b1b8e",null)),T=k.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wall",style:{width:t.wall.width+"px",height:t.wall.height+"px"}})},I=[],q={props:["wall","parent","index"],data:function(){return{}}},M=q,A=(i("d75d"),Object(c["a"])(M,B,I,!1,null,null,null)),O=A.exports,R={components:{Player:p,Bullet:m,Elimination:S,Item:T,Wall:O},data:function(){return{step:10,px:0,py:0}},watch:{"$store.state.x":function(t,e){var i=this;this.$store.state.walls.forEach((function(t){i.isCollide(i.$store.state,t)&&(i.$store.state.x=e)}))},"$store.state.y":function(t,e){var i=this;this.$store.state.walls.forEach((function(t){i.isCollide(i.$store.state,t)&&(i.$store.state.y=e)}))}},methods:{isCollide:function(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)},filter:function(t){return delete t[this.$store.state.username],t},walk:function(){var t=this;setTimeout((function(){var e=t.step;t.$store.state.run&&(e*=2),t.$store.state.walking&&("up"===t.$store.state.direction?t.$store.state.y-=e:"down"===t.$store.state.direction?t.$store.state.y+=e:"left"===t.$store.state.direction?t.$store.state.x-=e:"right"===t.$store.state.direction&&(t.$store.state.x+=e)),t.walk()}),20)}},mounted:function(){var t=this;this.$store.state.playing=!0,this.px=document.getElementById("player").getBoundingClientRect().left,this.py=document.getElementById("player").getBoundingClientRect().top,window.addEventListener("resize",(function(){t.px=document.getElementById("player").getBoundingClientRect().left,t.py=document.getElementById("player").getBoundingClientRect().top}),!1),window.addEventListener("orientationchange",(function(){t.px=document.getElementById("player").getBoundingClientRect().left,t.py=document.getElementById("player").getBoundingClientRect().top}),!1)},computed:{mapStyle:function(){return{left:-this.$store.state.x+this.px-4e3+"px",top:-this.$store.state.y+this.py-4e3+"px"}},waterStyle:function(){return{backgroundAttachment:"fixed",backgroundPosition:-this.$store.state.x+this.px-1e3+"px "+(-this.$store.state.y+this.py-1e3)+"px"}}},created:function(){var t=new Audio(i("d895"));t.loop=!0,t.play(),this.walk()}},G=R,P=(i("95a6"),Object(c["a"])(G,s,n,!1,null,"6a797840",null));e["default"]=P.exports},"8d5c":function(t,e,i){},"8fe3":function(t,e,i){"use strict";var s=i("8d5c"),n=i.n(s);n.a},"95a6":function(t,e,i){"use strict";var s=i("47ac"),n=i.n(s);n.a},"9ac8":function(t,e,i){},b301:function(t,e,i){"use strict";var s=i("d039");t.exports=function(t,e){var i=[][t];return!i||!s((function(){i.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,i){var s=i("f8c2"),n=i("44ad"),r=i("7b0b"),a=i("50c4"),o=i("65f0"),l=[].push,c=function(t){var e=1==t,i=2==t,c=3==t,u=4==t,p=6==t,d=5==t||p;return function(f,y,h,x){for(var m,$,v=r(f),b=n(v),g=s(y,h,3),w=a(b.length),S=0,_=x||o,L=e?_(f,w):i?_(f,0):void 0;w>S;S++)if((d||S in b)&&(m=b[S],$=g(m,S,v),t))if(e)L[S]=$;else if($)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:l.call(L,m)}else if(u)return!1;return p?-1:c||u?u:L}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},d75d:function(t,e,i){"use strict";var s=i("7b74"),n=i.n(s);n.a},d895:function(t,e,i){t.exports=i.p+"media/bg.cc73cc3b.mp3"},e61d:function(t,e,i){},e8b5:function(t,e,i){var s=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}},f54b:function(t,e,i){"use strict";var s=i("9ac8"),n=i.n(s);n.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-5e99c3f9.8e906182.js.map